(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7156:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(4984)}])},463:function(e,n,a){"use strict";var r=a(9669),s=a.n(r)().create({baseURL:"https://tasker-01.herokuapp.com/api"});n.Z=s},4984:function(e,n,a){"use strict";a.r(n);var r=a(4051),s=a.n(r),o=a(5893),i=a(5988),t=a.n(i),c=a(7294),l=a(1163),d=a(7536),u=a(1664),f=a(5496),p=a(4231),m=a(9294),g=a.n(m),h=a(463),x=a(5617),_=a(5585),j=a(2132);function v(e,n,a,r,s,o,i){try{var t=e[o](i),c=t.value}catch(l){return void a(l)}t.done?n(c):Promise.resolve(c).then(r,s)}function b(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function w(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{},r=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),r.forEach((function(n){b(e,n,a[n])}))}return e}n.default=function(){var e,n,a=(0,x.I0)(),r=p.Ry().shape({email:p.Z_().required("Email is required").email("Email is invalid"),password:p.Z_().min(6,"Password must be at least 6 characters").required("Password is required")}),i={resolver:(0,f.X)(r)},m=(0,d.cI)(i),b=m.register,N=m.handleSubmit,L=m.formState.errors,y=(0,l.useRouter)(),O=(0,c.useState)(""),P=(O[0],O[1]),k=function(){var e,n=(e=s().mark((function e(n){var r,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("working....."),e.prev=1,e.next=4,h.Z.post("/login",n);case 4:r=e.sent,console.log(r),r&&(a((0,_.X)(r.data)),localStorage.setItem("user",JSON.stringify(r.data)),j.Am.success("Login Succesfull",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),y.push({pathname:"/",query:{returnUrl:y.asPath}})),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response),console.log(e.t0),P(null===(o=e.t0.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.err),j.Am.error("Email or Password invalid",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 16:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var n=this,a=arguments;return new Promise((function(r,s){var o=e.apply(n,a);function i(e){v(o,r,s,i,t,"next",e)}function t(e){v(o,r,s,i,t,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"jsx-75a723347cf3fd30",children:[(0,o.jsx)(j.Ix,{}),(0,o.jsx)("h3",{className:"jsx-75a723347cf3fd30 "+(g().heading||""),children:"Login "}),(0,o.jsxs)("div",{className:"jsx-75a723347cf3fd30 "+(g().app||""),children:[(0,o.jsx)("div",{className:"jsx-75a723347cf3fd30 "+(g().bg||"")}),(0,o.jsxs)("form",{onSubmit:N(k),className:"jsx-75a723347cf3fd30 "+(g().loginform||""),children:[(0,o.jsx)("header",{className:"jsx-75a723347cf3fd30 "+(g().header||""),children:(0,o.jsx)("img",{src:"https://jqlacorte.com/wp-content/uploads/2015/09/jql-job-seekers.png?format=auto&height=80&version=1592223909&width=80",className:"jsx-75a723347cf3fd30 "+(g().image||"")})}),(0,o.jsxs)("div",{className:"jsx-75a723347cf3fd30 form-group col",children:[(0,o.jsx)("input",w({name:"email",type:"text"},b("email"),{placeholder:"Enter the email",className:"jsx-75a723347cf3fd30 "+"form-control ".concat(L.email?"is-invalid":"")})),(0,o.jsx)("div",{className:"jsx-75a723347cf3fd30 invalid-feedback",children:null===(e=L.email)||void 0===e?void 0:e.message})]}),(0,o.jsxs)("div",{className:"jsx-75a723347cf3fd30 form-group col",children:[(0,o.jsx)("input",w({name:"password",type:"password"},b("password"),{placeholder:"Password ",className:"jsx-75a723347cf3fd30 "+"form-control ".concat(L.password?"is-invalid":"")})),(0,o.jsx)("div",{className:"jsx-75a723347cf3fd30 invalid-feedback",children:null===(n=L.password)||void 0===n?void 0:n.message})]}),(0,o.jsxs)("div",{className:"jsx-75a723347cf3fd30 form-group",children:[(0,o.jsx)("div",{className:"jsx-75a723347cf3fd30 button",children:(0,o.jsx)("button",{type:"submit",className:"jsx-75a723347cf3fd30 "+(g().button||""),children:"Login"})}),(0,o.jsxs)("p",{className:"jsx-75a723347cf3fd30 "+(g().para||""),children:["Don't have an account?",(0,o.jsx)(u.default,{href:"/signup",children:(0,o.jsx)("a",{className:"jsx-75a723347cf3fd30 "+(g().a||""),children:"Signup"})})]})]})]})]}),(0,o.jsx)(t(),{id:"75a723347cf3fd30",children:"#footer.jsx-75a723347cf3fd30{margin-top:100px}\n#inputs.jsx-75a723347cf3fd30{margin-top:1px}\n.form-group.jsx-75a723347cf3fd30{margin-top:1px}\n.button.jsx-75a723347cf3fd30{margin-top:100px}\n@media screen and (max-width:640px) {#footer.jsx-75a723347cf3fd30{margin-top:150px}}"})]})})}},5585:function(e,n,a){"use strict";a.d(n,{X:function(){return s}});var r=a(4936),s=function(e){return function(n){n({type:r.Z.USER_DETAILS,payload:e})}}},9294:function(e){e.exports={heading:"Login_heading__ddCmr",image:"Login_image__NMZAz",app:"Login_app__Fr_rT",a:"Login_a__403Ed",para:"Login_para__noQaN",light:"Login_light__7LQDt",bg:"Login_bg__K81bQ",loginform:"Login_loginform__OshHV",header:"Login_header__uVn15",error:"Login_error__aOZP3",input:"Login_input__r_1vS",inputs:"Login_inputs__4U5Q3",footer:"Login_footer__8HgK7",button:"Login_button__ejJ5H"}}},function(e){e.O(0,[669,132,978,774,888,179],(function(){return n=7156,e(e.s=n);var n}));var n=e.O();_N_E=n}]);